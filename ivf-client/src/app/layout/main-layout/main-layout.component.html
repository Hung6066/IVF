<div class="layout">
  <aside class="sidebar">
    <div class="sidebar-header">
      <span class="logo">ğŸ¥</span>
      <h2 style="color: #ffffff">IVF System</h2>
    </div>

    <nav class="sidebar-nav">
      @for (section of menuSections; track section.header ?? 'main') {
        @if (isSectionVisible(section)) {
          <!-- Section Header -->
          @if (section.header) {
            <div class="nav-section-header">
              {{ section.header }}
            </div>
          }

          <!-- Menu Items -->
          @for (item of section.items; track item.route) {
            @if (isMenuItemVisible(item)) {
              <a [routerLink]="item.route" routerLinkActive="active" class="nav-item">
                <span class="icon">{{ item.icon }}</span> {{ item.label }}
              </a>
            }
          }
        }
      }
    </nav>

    <div class="sidebar-footer">
      <div class="user-info">
        <span class="avatar">{{ getUserInitials() }}</span>
        <div class="user-details">
          <strong>{{ authService.user()?.fullName }}</strong>
          <small>{{ authService.user()?.role }}</small>
        </div>
      </div>
      <button class="btn-logout" (click)="logout()">ğŸšª ÄÄƒng xuáº¥t</button>
    </div>
  </aside>

  <div class="main-wrapper">
    <header class="top-header">
      <div class="header-left">
        <h1 class="page-title">{{ getPageTitle() }}</h1>
      </div>
      <div class="header-right">
        <app-notification-bell></app-notification-bell>
        <div class="user-avatar">{{ getUserInitials() }}</div>
      </div>
    </header>
    <main class="main-content">
      <router-outlet></router-outlet>
    </main>
  </div>

  <!-- Toast Notifications -->
  <!-- Global Toast Notifications -->
  <app-global-toast></app-global-toast>
</div>
