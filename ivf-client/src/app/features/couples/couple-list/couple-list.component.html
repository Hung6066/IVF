<div class="dashboard-layout">
    <header class="page-header">
        <div class="header-title">
            <h1>Danh s√°ch c·∫∑p ƒë√¥i</h1>
            <span class="subtitle">Qu·∫£n l√Ω h·ªì s∆° c√°c c·∫∑p v·ª£ ch·ªìng</span>
        </div>
        <div class="header-actions">
            <button class="btn btn-primary" routerLink="/couples/new">
                <span class="icon">‚ûï</span> T·∫°o c·∫∑p ƒë√¥i
            </button>
        </div>
    </header>

    <div class="couples-grid">
        @for (couple of couples(); track couple.id) {
        <div class="couple-card">
            <div class="couple-header">
                <div class="partner wife">
                    <div class="avatar">üë©</div>
                    <div class="info">
                        <span class="name">{{ couple.wife?.fullName || 'Ch∆∞a c√≥' }}</span>
                        <span class="code">{{ couple.wife?.patientCode || '' }}</span>
                    </div>
                </div>
                <div class="heart">‚ù§Ô∏è</div>
                <div class="partner husband">
                    <div class="avatar">üë®</div>
                    <div class="info">
                        <span class="name">{{ couple.husband?.fullName || 'Ch∆∞a c√≥' }}</span>
                        <span class="code">{{ couple.husband?.patientCode || '' }}</span>
                    </div>
                </div>
            </div>

            <div class="couple-meta">
                <div class="meta-item">
                    <span class="label">K·∫øt h√¥n:</span>
                    <span class="value">{{ formatDate(couple.marriageDate) || '‚Äî' }}</span>
                </div>
                <div class="meta-item">
                    <span class="label">Hi·∫øm mu·ªôn:</span>
                    <span class="value">{{ couple.infertilityYears || '?' }} nƒÉm</span>
                </div>
            </div>

            <div class="couple-actions">
                <a [routerLink]="['/couples', couple.id, 'cycles', 'new']" class="btn btn-sm btn-success">‚ûï T·∫°o chu
                    k·ª≥</a>
                <a [routerLink]="['/patients', getWifeId(couple)]" class="btn btn-sm btn-secondary">üëÅÔ∏è V·ª£</a>
                <a [routerLink]="['/patients', getHusbandId(couple)]" class="btn btn-sm btn-secondary">üëÅÔ∏è Ch·ªìng</a>
            </div>
        </div>
        } @empty {
        <div class="empty-state">
            <div class="empty-content">
                <span class="empty-icon">üíë</span>
                <p>Ch∆∞a c√≥ c·∫∑p ƒë√¥i n√†o</p>
                <button class="btn btn-primary" routerLink="/couples/new">T·∫°o c·∫∑p ƒë√¥i m·ªõi</button>
            </div>
        </div>
        }
    </div>
</div>