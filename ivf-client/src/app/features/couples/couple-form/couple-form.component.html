<div class="couple-form">
    <header class="page-header">
        <a routerLink="/couples" class="back-link">
            <span>‚Üê</span> Danh s√°ch c·∫∑p ƒë√¥i
        </a>
        <h1>T·∫°o c·∫∑p ƒë√¥i m·ªõi</h1>
    </header>

    <form (ngSubmit)="submit()" class="card form-card">
        <div class="partner-section">
            <h2 class="section-title">üë© Th√¥ng tin v·ª£</h2>

            <div class="search-box">
                <app-patient-search [(ngModel)]="wifeId" name="wifeId"
                    placeholder="T√¨m b·ªánh nh√¢n n·ªØ (m√£ BN ho·∫∑c t√™n)..." genderFilter="Female"
                    (patientSelected)="selectedWife.set($event)">
                </app-patient-search>
            </div>
        </div>

        <div class="partner-section">
            <h2 class="section-title">üë® Th√¥ng tin ch·ªìng</h2>

            <div class="search-box">
                <app-patient-search [(ngModel)]="husbandId" name="husbandId"
                    placeholder="T√¨m b·ªánh nh√¢n nam (m√£ BN ho·∫∑c t√™n)..." genderFilter="Male"
                    (patientSelected)="selectedHusband.set($event)">
                </app-patient-search>
            </div>
        </div>

        <div class="details-section">
            <h2 class="section-title">üíç Th√¥ng tin h√¥n nh√¢n</h2>
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label">Ng√†y k·∫øt h√¥n</label>
                    <input type="date" class="form-control" [(ngModel)]="formData.marriageDate" name="marriageDate" />
                </div>
                <div class="form-group">
                    <label class="form-label">S·ªë nƒÉm hi·∫øm mu·ªôn</label>
                    <div class="input-suffix-group">
                        <input type="number" class="form-control" [(ngModel)]="formData.infertilityYears"
                            name="infertilityYears" min="0" />
                        <span class="suffix">nƒÉm</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-actions">
            <button type="button" class="btn btn-secondary" routerLink="/couples">Hu·ª∑</button>
            <button type="submit" class="btn btn-primary" [disabled]="saving() || !canSubmit()">
                {{ saving() ? 'ƒêang l∆∞u...' : 'T·∫°o c·∫∑p ƒë√¥i' }}
            </button>
        </div>
    </form>
</div>